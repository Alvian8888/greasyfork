<p><%= render_script(script_lock_appeal.script) %> was deleted due to: <%= delete_reason(script_lock_appeal.script) %>.</p>

<p>Appeal submitted by the author:</p>

<div class="user-content">
  <%= format_user_text(script_lock_appeal.text, script_lock_appeal.text_markup) %>
</div>

<% case script_lock_appeal.resolution %>
<% when 'unresolved' %>
  <% if current_user&.moderator? %>
    <%= form_tag(dismiss_script_script_lock_appeal_path(script_lock_appeal.script, script_lock_appeal), method: 'POST', class: 'report-resolution-options') do %>
      <%= text_area_tag :moderator_notes, nil, rows: 3, placeholder: 'Moderator notes (optional)' %>
      <%= submit_tag('Dismiss appeal') %>
    <% end %>
    <%= form_tag(unlock_script_script_lock_appeal_path(script_lock_appeal.script, script_lock_appeal), method: 'POST', class: 'report-resolution-options') do %>
      <%= text_area_tag :moderator_notes, nil, rows: 3, placeholder: 'Moderator notes (optional)' %>
      <%= submit_tag('Undelete script') %>
    <% end %>
  <% else %>
    <p>This appeal is pending review by a moderator.</p>
  <% end %>
<% when 'dismissed' %>
  <p>A moderator has dismissed this appeal.</p>
  <% if script_lock_appeal.moderator_notes.presence %>
    <div class="user-content">
      <%= script_lock_appeal.moderator_notes %>
    </div>
  <% end %>
<% when 'unlocked' %>
  <p>As a result of this appeal, a moderator undeleted this script.</p>
  <% if script_lock_appeal.moderator_notes.presence %>
    <div class="user-content">
      <%= script_lock_appeal.moderator_notes %>
    </div>
  <% end %>
<% end %>
